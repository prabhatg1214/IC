<!DOCTYPE html>
<head>
   <!-- <script>
      var script = document.createElement("script")
      script.async = true;
      script.type = "text/javascript";
      script.src = "https://www.googletagservices.com/tag/js/gpt.js";
      document.querySelector("head").appendChild(script); 
   </script> -->

   <script type="text/javascript">
    // set global variable if not already set
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    // load asynchronously the GPT JavaScript library used by DFP,
    // using SSL/HTTPS if necessary
    (function() {
        var gads   = document.createElement('script');
        gads.async = true;
        gads.type  = 'text/javascript';
        var useSSL = 'https:' === document.location.protocol;
        gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
        var node =document.getElementsByTagName('script')[0];
        node.parentNode.insertBefore(gads, node);
    })();
</script>

   
</head>
<body style="text-align: center;">
   <h3> ZeroHedge Home Test Page </h3>
   <div id="header-desktop"></div>
   <div id="sidebarleft-top"></div>
   <div id="sidebar-right-1"></div>
    <button onclick="getUATAds()">getUATAds</button>

   <div id="banner1" style="width:300px; height:250px;"></div>

    <div id="banner2" style="width:300px; height:250px;"></div>


<script type="text/javascript">
    // can be moved as well in the body
    // if using async mode, wrap all the javascript into googletag.cmd.push!
    // googletag.cmd.push(function() {
        // set page-level attributes for ad slots that serve AdSense
        // googletag.pubads().set("adsense_background_color", "FFFFFF");
        // googletag.pubads().setTargeting("topic","basketball");
        // enables Single Request Architecture (SRA)
        // googletag.pubads().enableSingleRequest();
        // Disable initial load, we will use refresh() to fetch ads.
        // Calling this function means that display() calls just
        // register the slot as ready, but do not fetch ads for it.
        // googletag.pubads().disableInitialLoad();
        // Collapses empty div elements on a page when there is no ad content to display.
        // googletag.pubads().collapseEmptyDivs();
        // Enables all GPT services that have been defined for ad slots on the page.
        // googletag.enableServices();
    // });
</script>




    <script type="text/javascript">
        // this code can be moved externally to improve performance
         googletag.cmd.push(function() {
             // define slot1
             // googletag.pubads().enableSingleRequest();
             // googletag.pubads().disableInitialLoad();

             slot1 = googletag.defineSlot(
                     "/5206/invc.finviz/home",
                     [4, 1],
                     "banner1"
                 )
                 .addService(googletag.pubads())
                 .setTargeting(
                     "interests",
                     ["sports", "music", "movies"]
                 );


             googletag.enableServices();
             // prerender the slot but don't display it because of disableInitialLoad()
             googletag.display("banner1");
            
             // define slot2    
             slot2 = googletag.defineSlot(
                 "/5206/invc.finviz/home",
                 [4, 2],
                 "banner2"
             )
             .addService(googletag.pubads())
             .setTargeting("gender", "male")
             .setTargeting("age", "20-30");            
                
             googletag.enableServices();
             // prerender the slot but don't display it because of disableInitialLoad()
             googletag.display("banner2");  
            
            
             // add event to sign the slot as redered or not
             googletag.pubads().addEventListener('slotRenderEnded', function(event) {
                 if (event.slot === slot1 || event.slot === slot2) {
                     // do something related to the slot
                 }
             });
            
             // refresh all container ads and show them
             // very important to call refresh with an array to avoid 
             // multiple callback to the registered event 
             if(googletag.pubads().isInitialLoadDisabled()){
                 console.log("***** Disabled initial load configured");
                 googletag.pubads().refresh([slot1, slot2]);
             }
         });
    </script>

    <!-- <script async src="./dist/uat.js"></script> -->
    <!-- <script async src="https://stguat5.investingchannel.com/static/uat.js"></script> -->
    <!-- <script async src="https://u5.investingchannel.com/static/uat.js"></script> -->
   <script>
    //   console.log(googletag.pubads().isInitialLoadDisabled());
    // InvestingChannelQueue = window.InvestingChannelQueue || [];
    // var que;
    // function getUATAds(){
    //     que = InvestingChannelQueue.push(function() {
    //         InvestingChannel.UAT.Run("db9c4938-e090-44bc-9fea-63dd773fae77");
    //     });
    // }  
    

    function getUATAds(){
        var gads   = document.createElement('script');
        gads.async = true;
        gads.type  = 'text/javascript';
        // gads.src = './dist/uat.js';
        gads.src = 'https://stguat5.investingchannel.com/static/uat.js';
        var node =document.getElementsByTagName('script')[0];
        node.parentNode.insertBefore(gads, node);

        var ic_page;
    
        InvestingChannelQueue = window.InvestingChannelQueue || [];
        InvestingChannelQueue.push(function() {
            ic_page = InvestingChannel.UAT.Run("db9c4938-e090-44bc-9fea-63dd773fae77");
        });
    }  

   </script>

<script>
        
        
        
    
        //Publisher should call createNewPage() after completed loading the content of new page (Article page).
    </script>
</body>
</html>